# plant_image_dowloader
Скрипт для сбора ссылок изображений из поисковых систем Bing, Yahoo, Яндекс, Google и ассинхронного скачивания изображений по этим ссылкам.

<h2>Возможности:</h2>
- Сбор оригинальных ссылок на изображения по запросам
<br>
- Установка требований к изображениям для скачивания (размеры, расширение)
<br>
- Ассинхронное скачивание ссылок
<br>
- Несколько попыток скачивания изображения
<br>
- Установка тайматута для попыток скачивания изображения и ожидания между ними
<br>
- Задание прокси для скачивания изображений
<br>
- Проверка прокси на работоспособность для каждого запроса ссылок
<br>
- Задание необходимых http-заголовков
<br>
- Изменение http-заголовка user-agent для каждой попытки скачивания изображения
<br>
- Изменение прокси-сервера для каждой попытки скачивания изображения
<br>
- Задание нескольких поисковых запросов изображений и их последовательная обработка (сбор и скачивание)
<br>
- Изменение количества параллельно работающих попыток скачинваия изображений


<h2>Запуск скрипта:</h2>
Для запуска нужно создать виртуальное окружение: 

  ```bash
  python -m venv YOUR_VENV_NAME
  ```
<br>Далее активируйте виртуальное окружение: 
  
  ```bash
YOUR_VENV_NAME/Scripts/activate
```
<br>Установите необходимые библиотеки: 

```bash
  pip install -r requirements.txt
  ```

<br>Измените python-скрипт под свои потребности:
<ul>
  <li>В переменной "main_folder" укажите папку, куда нужно сохранять изображения (вместо "PATH")</li>
  <li>В переменных "min_width" и "min_height" укажите требуемые размеры изображения</li>
  <li>В переменной "ALLOWED_EXTENSIONS" укажите требуемые расширения для изображения </li>
  <li>В переменной "USER_AGENTS" укажите необхоимые http-заголовки user-agent</li>
  <li>В переменной "custom_headers" укажите прочие требуемые http-заголовки</li>
  <li>В переменной "PROXIES" укажите прокси, которые будут использоваться для скачивания изображений (если не нужны - оставьте [None])</li>
  <li>В папке со скриптом добавьте файл .csv, где укажите запросы, в соответствии с которыми должны скачиваться изображения. В строке "df = pd.read_csv("FILE.csv", sep=",")" вместо "FILE" укажите имя Вашего файла, а в строке "for plant_name in df["COLUMN_NAME"]:" вместо "COLUMN_NAME" укажите название той колонки файла .csv, в которой у Вас находятся запросы</li>
  <li>При необходимости изменить количество попыток скачивания измените значение аргумента "retries" в вызове функции "async def download_image" внутри "async def download_all"</li>
  <li>При необходимости изменить количество параллельно работающих попыток скачинваия изображений измените значение аргумента "max_parallel" в вызове функции "download_all" при ее запуске внутри "asyncio.run"</li>
</ul>
